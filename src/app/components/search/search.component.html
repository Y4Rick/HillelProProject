<div class="search">
    <form class="search__form" [formGroup]="form">
        <mat-form-field 
            class="search__field" 
            appearance="outline"
        >
            <mat-label>Поиск</mat-label>
            <input type="search"
                   matInput
                   formControlName="search"
                   [matAutocomplete]="search">
            <mat-autocomplete
                #search="matAutocomplete"
            >
                
                <mat-optgroup
                    class="search__optgroup"
                    *ngFor="let item of filtered_products"
                    [label]="item.category"
                >
                    <mat-option class="search__optgroup-option" *ngFor="let product of item.items" [value]="product.name">
                        <a
                            class="search__optgroup-link"
                            [routerLink]="[product.productLink]"
                        >
                            {{ product.name }}
                        </a>
                    </mat-option>  
                </mat-optgroup>
            </mat-autocomplete>
        </mat-form-field>
        <div *ngIf="no_results" class="search__no-results">
            Нет результатов
        </div>
    </form>
</div>